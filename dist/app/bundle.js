!function(e){function n(t){if(s[t])return s[t].exports;var r=s[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,n),r.l=!0,r.exports}var s={};n.m=e,n.c=s,n.d=function(e,s,t){n.o(e,s)||Object.defineProperty(e,s,{configurable:!1,enumerable:!0,get:t})},n.n=function(e){var s=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(s,"a",s),s},n.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},n.p="/app/",n(n.s=0)}([function(e,n,s){"use strict";function t(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=s(1),i=(s.n(r),function(){function e(e,n){for(var s=0;s<n.length;s++){var t=n[s];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(n,s,t){return s&&e(n.prototype,s),t&&e(n,t),n}}()),o=function(){function e(n){t(this,e),this.base=n,this.recipientInput=this.base.querySelector(".message-box__send__recipient"),this.messageInput=this.base.querySelector(".message-box__send__message"),this.sendBtn=this.base.querySelector(".message-box__send__send-btn"),this.refreshBtn=this.base.querySelector(".message-box__send__refresh-btn"),this.messagesContainer=this.base.querySelector(".message-box__messages__container"),this._bindListeners()}return i(e,[{key:"_bindListeners",value:function(){this._boundSendClick=this._onSendClick.bind(this),this.sendBtn.addEventListener("click",this._boundSendClick),this._boundRefreshClick=this._onRefreshClick.bind(this),this.refreshBtn.addEventListener("click",this._boundRefreshClick)}},{key:"_onSendClick",value:function(e){console.log("send");var n=this.recipientInput.value,s=this.messageInput.value;""!==n&&""!==s?this._sendMessage(n,s).then(function(e){return console.log("message sent")}):alert("please fill out all required fields")}},{key:"_onRefreshClick",value:function(e){var n=this;console.log("refresh"),this._fetchMessages().then(function(e){return n._renderMessage(e)})}},{key:"_fetchMessages",value:function(){return fetch("/messages").then(function(e){return e.json()})}},{key:"_renderMessage",value:function(e){var n=e.reduce(function(e,n){return e+="\n        <div><span>For: "+n.recipient+"</span>  <span>Message: "+n.message+"</span></div>\n      "},"");this.messagesContainer.innerHTML=n}},{key:"_sendMessage",value:function(e,n){var s={recipient:e,message:n};return fetch("/send",{method:"post",body:JSON.stringify(s),headers:{Accept:"application/json","Content-Type":"application/json"}}).then(this._fetchMessages())}}]),e}();window.MessageBox=new o(document.querySelector(".message-box"))},function(e,n){}]);